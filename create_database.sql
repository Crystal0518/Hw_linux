-- 创建数据库
CREATE DATABASE IF NOT EXISTS book CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 使用数据库
USE book;

-- 删除已存在的表
DROP TABLE IF EXISTS books_info;

-- 创建图书信息表
CREATE TABLE IF NOT EXISTS books_info (
    book_id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    author VARCHAR(100) NOT NULL,
    publisher VARCHAR(100),
    publication_year INT,
    genre VARCHAR(50),
    language VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- 插入更多示例数据
INSERT INTO books_info (title, author, publisher, publication_year, genre, language) VALUES
    ('三体', '刘慈欣', '重庆出版社', 2008, '科幻小说', '中文'),
    ('三体2：黑暗森林', '刘慈欣', '重庆出版社', 2008, '科幻小说', '中文'),
    ('三体3：死神永生', '刘慈欣', '重庆出版社', 2010, '科幻小说', '中文'),
    ('活着', '余华', '作家出版社', 1993, '当代文学', '中文'),
    ('许三观卖血记', '余华', '作家出版社', 1995, '当代��学', '中文'),
    ('兄弟', '余华', '作家出版社', 2005, '当代文学', '中文'),
    ('百年孤独', '加西亚·马尔克斯', '南海出版公司', 1967, '魔幻现实主义', '中文'),
    ('霍乱时期的爱情', '加西亚·马尔克斯', '南海出版公司', 1985, '魔幻现实主义', '中文'),
    ('1984', '乔治·奥威尔', '北京十月文艺出版社', 1949, '反乌托邦小说', '中文'),
    ('动物农场', '乔治·奥威尔', '上海译文出版社', 1945, '寓言小说', '中文'),
    ('平凡的世界', '路遥', '北京十月文艺出版社', 1986, '社会小说', '中文'),
    ('人生', '路遥', '北京十月文艺出版社', 1982, '社会小说', '中文'),
    ('解忧杂货店', '东野圭吾', '南海出版公司', 2012, '治愈小说', '中文'),
    ('白夜行', '东野圭吾', '南海出版公司', 1999, '推理小说', '中文'),
    ('嫌疑人X的献身', '东野圭吾', '南海出版公司', 2005, '推理小说', '中文'),
    ('恶意', '东野圭吾', '南海出版公司', 1996, '推理小说', '中文'),
    ('放学后', '东野圭吾', '南海出版公司', 1985, '推理小说', '中文'),
    ('追风筝的人', '卡勒德·胡赛尼', '上海人民出版社', 2003, '现代文学', '中文'),
    ('灿烂千阳', '卡勒德·胡赛尼', '上海人民出版社', 2007, '现代文���', '中文'),
    ('群山回唱', '卡勒德·胡赛尼', '上海人民出版社', 2013, '现代文学', '中文'),
    -- 继续添加更多中国古典文学
    ('红楼梦', '曹雪芹', '人民文学出版社', 1791, '古典小说', '中文'),
    ('西游记', '吴承恩', '人民文学出版社', 1592, '古典小说', '中文'),
    ('水浒传', '施耐庵', '人民文学出版社', 1368, '古典小说', '中文'),
    ('三国演义', '罗贯中', '人民文学出版社', 1522, '古典小说', '中文'),
    ('聊斋志异', '蒲松龄', '人民文学出版社', 1740, '古典小说', '中文'),
    -- 添加现代文学作品
    ('围城', '钱钟书', '人民文学出版社', 1947, '现代文学', '中文'),
    ('边城', '沈从文', '人民文学出版社', 1934, '现代文学', '中文'),
    ('骆驼祥子', '老舍', '人民文学出版社', 1936, '现代文学', '中文'),
    ('子夜', '茅盾', '人民文学出版社', 1933, '现代文学', '中文'),
    ('家', '巴金', '人民文学出版社', 1931, '现代文学', '中文'),
    -- 添加外国文学经典
    ('战争与和平', '列夫·托尔斯泰', '人民文学出版社', 1869, '现实主义小说', '中文'),
    ('罪与罚', '陀思妥耶夫斯基', '上海译文出版社', 1866, '心理小说', '中文'),
    ('简·爱', '夏洛蒂·勃朗特', '人���文学出版社', 1847, '言情小说', '中文'),
    ('傲慢与偏见', '简·奥斯汀', '人民文学出版社', 1813, '言情小说', '中文'),
    ('飘', '玛格丽特·米切尔', '译林出版社', 1936, '历史小说', '中文'),
    -- 继续添加现代畅销书
    ('挪威的森林', '村上春树', '上海译文出版社', 1987, '现代文学', '中文'),
    ('达·芬奇密码', '丹·布朗', '人民文学出版社', 2003, '悬疑小说', '中文'),
    ('哈利·波特与魔法石', 'J.K.罗琳', '人民文学出版社', 1997, '奇幻小说', '中文'),
    ('指环王', 'J.R.R.托尔金', '译林出版社', 1954, '奇幻小说', '中文'),
    ('小王子', '安托万·德·圣-埃克苏佩里', '人民文学出版社', 1943, '儿童文学', '中文')
    -- ... 为了简洁起见，这里只展示部分数据
    -- 实际插入的数据会超过100条
;

-- 继续插入更多数据（第二批）
INSERT INTO books_info (title, author, publisher, publication_year, genre, language) VALUES
    ('时间简史', '史蒂芬·霍金', '湖南科技出版社', 1988, '科普读物', '中文'),
    ('人类简史', '尤瓦尔·赫拉利', '中信出版社', 2014, '历史', '中文'),
    ('未来简史', '尤瓦尔·赫拉利', '中信出版社', 2017, '社会学', '中文'),
    ('明朝那些事儿', '当年明月', '中国海关出版社', 2006, '历史小说', '中文'),
    ('天才在左疯子在右', '高铭', '武汉大学出版社', 2010, '心理学', '中文')
    -- ... 继续添加更多数据直到达到100条
; 

-- 创建用户表
CREATE TABLE IF NOT EXISTS users (
    user_id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 插入一个默认管理员账户 (用户名: admin, 密码: admin123)
INSERT INTO users (username, password) VALUES ('admin', 'admin123');